(()=>{function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequire7bfb;null==parcelRequire&&((parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var i={id:e,exports:{}};return $parcel$modules[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequire7bfb=parcelRequire),parcelRequire.register("ee2Qt",function(module,exports){module.exports=function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./index.js")}({"./index.js":function(module,exports,__webpack_require__){eval('//------------------------------------------------------------------------\n// Disable scrolling (e.g. when modal window is open)\n//\n// Inspired by https://benfrain.com/preventing-body-scroll-for-modals-in-ios/\n//\n// Note: Once Safari and iOS Safari support the “touch-action” CSS property,\n//       we can simply toggle a class that adds the following:\n//\n//       html,\n//       body {\n//         overflow: hidden !important;\n//         touch-action: none !important;\n//       }\n//\n//       /* Add class to elements like modal windows that still need to scroll */\n//       .allow-scroll { touch-action: auto !important; }\n//\n// https://caniuse.com/#feat=css-touch-action\n//------------------------------------------------------------------------\n\n\nmodule.exports = {\n  // Save current scroll position when scrolling is disabled so we can reset it when enabled\n  _scrollPos: 0,\n\n  // Track whether or not we have injected CSS the already\n  _hasCSS: false,\n\n  // Inject <style> tag with CSS rules (simpler than toggling a lot of inline styles)\n  _injectCSS: function _injectCSS() {\n\n    // Don’t add styles more than once\n    if (!this._hasCSS) {\n      var css = \'\\n        html.js-no-scroll { height: 100% !important; }\\n        .js-no-scroll body {\\n          height: 100%;\\n          overflow: hidden !important;\\n          position: fixed !important;\\n          width: 100% !important;\\n        }\';\n\n      // Note: Setting “position: fixed” on the body prevents iOS from scrolling.\n      //       However, this will cause the browser to scroll to the top, so we must\n      //       add inline “height” and “top” styles to the body to address this.\n\n      // Create <style> tag and add to <head>\n      // https://stackoverflow.com/a/524721/673457\n      var styleEl = document.createElement(\'style\');\n      styleEl.type = \'text/css\';\n      styleEl.appendChild(document.createTextNode(css));\n      document.head.appendChild(styleEl);\n\n      // Update var so we can avoid loading the CSS multiple times\n      this._hasCSS = true;\n    }\n  },\n\n  _saveScrollPos: function _saveScrollPos() {\n    this._scrollPos = window.pageYOffset || document.documentElement.scrollTop;\n  },\n\n  /**\n   * Disable scrolling\n   */\n  freeze: function freeze() {\n    // Add required inline CSS (only runs first time)\n    this._injectCSS();\n\n    this._saveScrollPos();\n\n    // Add class to prevent page scrolling (sets fixed position on body)\n    document.documentElement.classList.add("js-no-scroll");\n\n    // Add inline styles if not already at top of page\n    if (this._scrollPos > 0) {\n      document.body.style.height = "calc(100% + " + this._scrollPos + "px)";\n      document.body.style.top = -this._scrollPos + "px";\n    }\n  },\n\n  /**\n   * Enable scrolling\n   */\n  unfreeze: function unfreeze() {\n    // Remove js-no-scroll class\n    document.documentElement.classList.remove("js-no-scroll");\n\n    if (this._scrollPos > 0) {\n      // Remove inline styles on body, which causes the page to jump to the top.\n      document.body.style.height = "";\n      document.body.style.top = "";\n\n      // Disable native smooth scrolling before resetting the scroll position.\n      // Otherwise, there would be an annoying jump after scrolling is enabled.\n      if (document.documentElement.style.hasOwnProperty(\'scrollBehavior\')) {\n        document.documentElement.style.scrollBehavior = "auto";\n      }\n\n      // Reset scroll position to what it was before scrolling was disabled.\n      window.scrollTo(0, this._scrollPos);\n\n      // Re-enable native smooth scrolling\n      if (document.documentElement.style.hasOwnProperty(\'scrollBehavior\')) {\n        document.documentElement.style.scrollBehavior = "";\n      }\n    }\n  }\n};\n\n//# sourceURL=webpack://%5Bname%5DLink/./index.js?')}})});var $ee2Qt=parcelRequire("ee2Qt"),$ba1d3eb1170b398e$exports={};!function(e,t){"function"==typeof define&&define.amd?define(t):$ba1d3eb1170b398e$exports?$ba1d3eb1170b398e$exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:$ba1d3eb1170b398e$exports,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},r=i[e]=i[e]||[];return -1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},r=i[e]=i[e]||{};return r[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var r=i.indexOf(t);return -1!=r&&i.splice(r,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],n=0;n<i.length;n++){var s=i[n];r&&r[s]&&(this.off(e,s),delete r[s]),s.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e});class $c83f175452bd0a3c$export$2e2bcd8739ae039 extends $parcel$interopDefault($ba1d3eb1170b398e$exports){constructor(e,t){super(),this.options=Object.assign({},{transitionSpeed:100,activeClasses:"",modalContentClass:"Modal-content",onReady:null},t),this.options.activeClasses.length&&(this.options.activeClasses.indexOf(" ")>-1?this.options.activeClasses=this.options.activeClasses.split(" ").filter(e=>e.length):this.options.activeClasses=[this.options.activeClasses]),this.el=e,this.el.classList.add("js-init"),this.isOpen=!1,this.hasToggles=!1,this.contentEl=this.el.querySelector(".Modal-content"),this.customContentEl=this.el.querySelector("."+this.options.modalContentClass)||this.contentEl,this.closeEls=this.el.querySelectorAll("[data-modal-close]"),this.el.id?(this.toggleEls=document.querySelectorAll(`[data-modal="${this.el.id}"]`),this.hasToggles=!!this.toggleEls.length):this.el.id=Math.random().toString(36).substr(2,4),this.prevFocusedEl=null,this.focusableEls=this.getFocusableEls(),this.focusableEls.length&&(this.firstFocusableEl=this.focusableEls[0],this.lastFocusableEl=this.focusableEls[this.focusableEls.length-1]),this.el.getAttribute("aria-label")||this.el.getAttribute("aria-labelledby")||console.warn("A11y Issue: Modal window should have an “aria-label” or “aria-labelledby” attribute",this.el),this.init()}init(){this.el.setAttribute("aria-hidden","true"),this.el.setAttribute("role","dialog"),this.hasToggles&&this.toggleEls.forEach(e=>{e.setAttribute("aria-controls",this.el.id),e.setAttribute("aria-expanded","false"),e.setAttribute("role","button")}),this.closeEls.length&&this.closeEls.forEach(e=>{e.setAttribute("role","button")}),this.bindEvents(),"function"==typeof this.options.onReady&&this.options.onReady()}destroy(){this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("role"),this.el.removeAttribute("tabindex"),this.hasToggles&&this.toggleEls.forEach(e=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded"),e.removeAttribute("role")}),this.closeEls.length&&this.closeEls.forEach(e=>{e.removeAttribute("aria-label"),e.removeAttribute("role")}),this.unbindEvents(),this.emitEvent("destroy")}getFocusableEls(){return[...this.el.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]}getFocusedEl(){return document.hasFocus()&&document.activeElement!==document.body&&document.activeElement!==document.documentElement?document.activeElement:null}focusDelay(e){window.setTimeout(()=>e.focus(),this.options.transitionSpeed)}windowClickHandler(e){let t=Array.prototype.indexOf.call(this.toggleEls,e.target.closest("[data-modal]"))>-1,i=document.body.contains(e.target);if(!this.isOpen||t||!i)return;let r=this.customContentEl&&this.customContentEl.contains(e.target),n=this.customContentEl.isSameNode(e.target);r||n||this.close(e)}keydownHandler(e){if(!this.isOpen)return!1;if(27===e.which&&this.close(e),9===e.which){if(!this.focusableEls.length)return this.close(e),!1;let t=this.getFocusedEl();e.shiftKey||t!=this.lastFocusableEl?e.shiftKey&&(t==this.firstFocusableEl||t==this.contentEl)&&(e.preventDefault(),this.lastFocusableEl.focus()):(e.preventDefault(),this.firstFocusableEl.focus())}}bindEvents(){this.hasToggles&&(this.toggleClick=this.toggle.bind(this),this.toggleEls.forEach(e=>{e.addEventListener("click",this.toggleClick)})),this.closeEls.length&&(this.closeClick=this.close.bind(this),this.closeEls.forEach(e=>{e.addEventListener("click",this.closeClick)})),this.windowClick=this.windowClickHandler.bind(this),window.addEventListener("click",this.windowClick),this.keydown=this.keydownHandler.bind(this),window.addEventListener("keydown",this.keydown)}unbindEvents(){this.hasToggles&&this.toggleEls.forEach(e=>{e.removeEventListener("click",this.toggleClick)}),this.closeEls.length&&this.closeEls.forEach(e=>{e.removeEventListener("click",this.closeClick)}),window.removeEventListener("click",this.windowClick),window.removeEventListener("keydown",this.keydown)}open(e){e.preventDefault(),this.prevFocusedEl=this.getFocusedEl(),$parcel$interopDefault($ee2Qt).freeze(),this.contentEl&&(this.contentEl.scrollTop=0),this.el.setAttribute("aria-hidden","false"),this.options.activeClasses.length&&this.el.classList.add(...this.options.activeClasses),this.hasToggles&&this.toggleEls.forEach(e=>{e.setAttribute("aria-expanded","true"),this.options.activeClasses.length&&e.classList.add(...this.options.activeClasses)}),this.contentEl?(this.contentEl.setAttribute("tabindex","-1"),this.focusDelay(this.contentEl)):(this.el.setAttribute("tabindex","-1"),this.focusDelay(this.el)),this.isOpen=!0,this.emitEvent("open")}close(e){e.preventDefault(),this.el.setAttribute("aria-hidden","true"),this.options.activeClasses.length&&this.el.classList.remove(...this.options.activeClasses),this.hasToggles&&this.toggleEls.forEach(e=>{e.setAttribute("aria-expanded","false"),this.options.activeClasses.length&&e.classList.remove(...this.options.activeClasses)}),$parcel$interopDefault($ee2Qt).unfreeze(),this.prevFocusedEl?this.focusDelay(this.prevFocusedEl):this.hasToggles&&this.focusDelay(this.toggleEls[0]),this.isOpen=!1,this.emitEvent("close")}toggle(e){this.isOpen?this.close(e):this.open(e)}}let $7baa24001ba46d98$var$container=document.getElementById("info");$7baa24001ba46d98$var$container&&new $c83f175452bd0a3c$export$2e2bcd8739ae039($7baa24001ba46d98$var$container);var $9bd5008c96f03152$exports={};!function(){var e=function(t){var i=new e.Builder;return i.pipeline.add(e.trimmer,e.stopWordFilter,e.stemmer),i.searchPipeline.add(e.stemmer),t.call(i,i),i.build()};e.version="2.3.9",e.utils={},e.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),e.utils.asString=function(e){return null==e?"":e.toString()},e.utils.clone=function(e){if(null==e)return e;for(var t=Object.create(null),i=Object.keys(e),r=0;r<i.length;r++){var n=i[r],s=e[n];if(Array.isArray(s)){t[n]=s.slice();continue}if("string"==typeof s||"number"==typeof s||"boolean"==typeof s){t[n]=s;continue}throw TypeError("clone is not deep and does not support nested objects")}return t},e.FieldRef=function(e,t,i){this.docRef=e,this.fieldName=t,this._stringValue=i},e.FieldRef.joiner="/",e.FieldRef.fromString=function(t){var i=t.indexOf(e.FieldRef.joiner);if(-1===i)throw"malformed field ref string";var r=t.slice(0,i),n=t.slice(i+1);return new e.FieldRef(n,r,t)},e.FieldRef.prototype.toString=function(){return void 0==this._stringValue&&(this._stringValue=this.fieldName+e.FieldRef.joiner+this.docRef),this._stringValue},e.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var t=0;t<this.length;t++)this.elements[e[t]]=!0}else this.length=0},e.Set.complete={intersect:function(e){return e},union:function(){return this},contains:function(){return!0}},e.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},e.Set.prototype.contains=function(e){return!!this.elements[e]},e.Set.prototype.intersect=function(t){var i,r,n,s=[];if(t===e.Set.complete)return this;if(t===e.Set.empty)return t;this.length<t.length?(i=this,r=t):(i=t,r=this),n=Object.keys(i.elements);for(var o=0;o<n.length;o++){var a=n[o];a in r.elements&&s.push(a)}return new e.Set(s)},e.Set.prototype.union=function(t){return t===e.Set.complete?e.Set.complete:t===e.Set.empty?this:new e.Set(Object.keys(this.elements).concat(Object.keys(t.elements)))},e.idf=function(e,t){var i=0;for(var r in e)"_index"!=r&&(i+=Object.keys(e[r]).length);return Math.log(1+Math.abs((t-i+.5)/(i+.5)))},e.Token=function(e,t){this.str=e||"",this.metadata=t||{}},e.Token.prototype.toString=function(){return this.str},e.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},e.Token.prototype.clone=function(t){return t=t||function(e){return e},new e.Token(t(this.str,this.metadata),this.metadata)},e.tokenizer=function(t,i){if(null==t||void 0==t)return[];if(Array.isArray(t))return t.map(function(t){return new e.Token(e.utils.asString(t).toLowerCase(),e.utils.clone(i))});for(var r=t.toString().toLowerCase(),n=r.length,s=[],o=0,a=0;o<=n;o++){var l=r.charAt(o),c=o-a;if(l.match(e.tokenizer.separator)||o==n){if(c>0){var u=e.utils.clone(i)||{};u.position=[a,c],u.index=s.length,s.push(new e.Token(r.slice(a,o),u))}a=o+1}}return s},e.tokenizer.separator=/[\s\-]+/,e.Pipeline=function(){this._stack=[]},e.Pipeline.registeredFunctions=Object.create(null),e.Pipeline.registerFunction=function(t,i){i in this.registeredFunctions&&e.utils.warn("Overwriting existing registered function: "+i),t.label=i,e.Pipeline.registeredFunctions[t.label]=t},e.Pipeline.warnIfFunctionNotRegistered=function(t){t.label&&t.label in this.registeredFunctions||e.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",t)},e.Pipeline.load=function(t){var i=new e.Pipeline;return t.forEach(function(t){var r=e.Pipeline.registeredFunctions[t];if(r)i.add(r);else throw Error("Cannot load unregistered function: "+t)}),i},e.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(t){e.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)},this)},e.Pipeline.prototype.after=function(t,i){e.Pipeline.warnIfFunctionNotRegistered(i);var r=this._stack.indexOf(t);if(-1==r)throw Error("Cannot find existingFn");r+=1,this._stack.splice(r,0,i)},e.Pipeline.prototype.before=function(t,i){e.Pipeline.warnIfFunctionNotRegistered(i);var r=this._stack.indexOf(t);if(-1==r)throw Error("Cannot find existingFn");this._stack.splice(r,0,i)},e.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},e.Pipeline.prototype.run=function(e){for(var t=this._stack.length,i=0;i<t;i++){for(var r=this._stack[i],n=[],s=0;s<e.length;s++){var o=r(e[s],s,e);if(null!=o&&""!==o){if(Array.isArray(o))for(var a=0;a<o.length;a++)n.push(o[a]);else n.push(o)}}e=n}return e},e.Pipeline.prototype.runString=function(t,i){var r=new e.Token(t,i);return this.run([r]).map(function(e){return e.toString()})},e.Pipeline.prototype.reset=function(){this._stack=[]},e.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return e.Pipeline.warnIfFunctionNotRegistered(t),t.label})},e.Vector=function(e){this._magnitude=0,this.elements=e||[]},e.Vector.prototype.positionForIndex=function(e){if(0==this.elements.length)return 0;for(var t=0,i=this.elements.length/2,r=i-t,n=Math.floor(r/2),s=this.elements[2*n];r>1&&(s<e&&(t=n),s>e&&(i=n),s!=e);)r=i-t,n=t+Math.floor(r/2),s=this.elements[2*n];return s==e||s>e?2*n:s<e?(n+1)*2:void 0},e.Vector.prototype.insert=function(e,t){this.upsert(e,t,function(){throw"duplicate index"})},e.Vector.prototype.upsert=function(e,t,i){this._magnitude=0;var r=this.positionForIndex(e);this.elements[r]==e?this.elements[r+1]=i(this.elements[r+1],t):this.elements.splice(r,0,e,t)},e.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,t=this.elements.length,i=1;i<t;i+=2){var r=this.elements[i];e+=r*r}return this._magnitude=Math.sqrt(e)},e.Vector.prototype.dot=function(e){for(var t=0,i=this.elements,r=e.elements,n=i.length,s=r.length,o=0,a=0,l=0,c=0;l<n&&c<s;)(o=i[l])<(a=r[c])?l+=2:o>a?c+=2:o==a&&(t+=i[l+1]*r[c+1],l+=2,c+=2);return t},e.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},e.Vector.prototype.toArray=function(){for(var e=Array(this.elements.length/2),t=1,i=0;t<this.elements.length;t+=2,i++)e[i]=this.elements[t];return e},e.Vector.prototype.toJSON=function(){return this.elements},e.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},i="[aeiouy]",r="[^aeiou][^aeiouy]*",n=i+"[aeiou]*",s="^("+r+")?"+n+r,o="^("+r+")?"+n+r+"("+n+")?$",a="^("+r+")?"+n+r+n+r,l="^("+r+")?"+i,c=new RegExp(s),u=new RegExp(a),d=new RegExp(o),h=new RegExp(l),f=/^(.+?)(ss|i)es$/,p=/^(.+?)([^s])s$/,m=/^(.+?)eed$/,y=/^(.+?)(ed|ing)$/,v=/.$/,g=/(at|bl|iz)$/,x=RegExp("([^aeiouylsz])\\1$"),b=RegExp("^"+r+i+"[^aeiouwxy]$"),E=/^(.+?[^aeiou])y$/,w=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,k=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,S=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,L=/^(.+?)(s|t)(ion)$/,Q=/^(.+?)e$/,P=/ll$/,T=RegExp("^"+r+i+"[^aeiouwxy]$"),O=function(i){var r,n,s,o,a,l,O;if(i.length<3)return i;if("y"==(s=i.substr(0,1))&&(i=s.toUpperCase()+i.substr(1)),o=f,a=p,o.test(i)?i=i.replace(o,"$1$2"):a.test(i)&&(i=i.replace(a,"$1$2")),o=m,a=y,o.test(i)){var C=o.exec(i);(o=c).test(C[1])&&(o=v,i=i.replace(o,""))}else if(a.test(i)){var C=a.exec(i);r=C[1],(a=h).test(r)&&(i=r,a=g,l=x,O=b,a.test(i)?i+="e":l.test(i)?(o=v,i=i.replace(o,"")):O.test(i)&&(i+="e"))}if((o=E).test(i)){var C=o.exec(i);i=(r=C[1])+"i"}if((o=w).test(i)){var C=o.exec(i);r=C[1],n=C[2],(o=c).test(r)&&(i=r+e[n])}if((o=k).test(i)){var C=o.exec(i);r=C[1],n=C[2],(o=c).test(r)&&(i=r+t[n])}if(o=S,a=L,o.test(i)){var C=o.exec(i);r=C[1],(o=u).test(r)&&(i=r)}else if(a.test(i)){var C=a.exec(i);r=C[1]+C[2],(a=u).test(r)&&(i=r)}if((o=Q).test(i)){var C=o.exec(i);r=C[1],o=u,a=d,l=T,(o.test(r)||a.test(r)&&!l.test(r))&&(i=r)}return o=P,a=u,o.test(i)&&a.test(i)&&(o=v,i=i.replace(o,"")),"y"==s&&(i=s.toLowerCase()+i.substr(1)),i};return function(e){return e.update(O)}}(),e.Pipeline.registerFunction(e.stemmer,"stemmer"),e.generateStopWordFilter=function(e){var t=e.reduce(function(e,t){return e[t]=t,e},{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},e.stopWordFilter=e.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),e.Pipeline.registerFunction(e.stopWordFilter,"stopWordFilter"),e.trimmer=function(e){return e.update(function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")})},e.Pipeline.registerFunction(e.trimmer,"trimmer"),e.TokenSet=function(){this.final=!1,this.edges={},this.id=e.TokenSet._nextId,e.TokenSet._nextId+=1},e.TokenSet._nextId=1,e.TokenSet.fromArray=function(t){for(var i=new e.TokenSet.Builder,r=0,n=t.length;r<n;r++)i.insert(t[r]);return i.finish(),i.root},e.TokenSet.fromClause=function(t){return"editDistance"in t?e.TokenSet.fromFuzzyString(t.term,t.editDistance):e.TokenSet.fromString(t.term)},e.TokenSet.fromFuzzyString=function(t,i){for(var r=new e.TokenSet,n=[{node:r,editsRemaining:i,str:t}];n.length;){var s=n.pop();if(s.str.length>0){var o,a=s.str.charAt(0);a in s.node.edges?o=s.node.edges[a]:(o=new e.TokenSet,s.node.edges[a]=o),1==s.str.length&&(o.final=!0),n.push({node:o,editsRemaining:s.editsRemaining,str:s.str.slice(1)})}if(0!=s.editsRemaining){if("*"in s.node.edges)var l=s.node.edges["*"];else{var l=new e.TokenSet;s.node.edges["*"]=l}if(0==s.str.length&&(l.final=!0),n.push({node:l,editsRemaining:s.editsRemaining-1,str:s.str}),s.str.length>1&&n.push({node:s.node,editsRemaining:s.editsRemaining-1,str:s.str.slice(1)}),1==s.str.length&&(s.node.final=!0),s.str.length>=1){if("*"in s.node.edges)var c=s.node.edges["*"];else{var c=new e.TokenSet;s.node.edges["*"]=c}1==s.str.length&&(c.final=!0),n.push({node:c,editsRemaining:s.editsRemaining-1,str:s.str.slice(1)})}if(s.str.length>1){var u,d=s.str.charAt(0),h=s.str.charAt(1);h in s.node.edges?u=s.node.edges[h]:(u=new e.TokenSet,s.node.edges[h]=u),1==s.str.length&&(u.final=!0),n.push({node:u,editsRemaining:s.editsRemaining-1,str:d+s.str.slice(2)})}}}return r},e.TokenSet.fromString=function(t){for(var i=new e.TokenSet,r=i,n=0,s=t.length;n<s;n++){var o=t[n],a=n==s-1;if("*"==o)i.edges[o]=i,i.final=a;else{var l=new e.TokenSet;l.final=a,i.edges[o]=l,i=l}}return r},e.TokenSet.prototype.toArray=function(){for(var e=[],t=[{prefix:"",node:this}];t.length;){var i=t.pop(),r=Object.keys(i.node.edges),n=r.length;i.node.final&&(i.prefix.charAt(0),e.push(i.prefix));for(var s=0;s<n;s++){var o=r[s];t.push({prefix:i.prefix.concat(o),node:i.node.edges[o]})}}return e},e.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this.final?"1":"0",t=Object.keys(this.edges).sort(),i=t.length,r=0;r<i;r++){var n=t[r],s=this.edges[n];e=e+n+s.id}return e},e.TokenSet.prototype.intersect=function(t){for(var i=new e.TokenSet,r=void 0,n=[{qNode:t,output:i,node:this}];n.length;)for(var s=Object.keys((r=n.pop()).qNode.edges),o=s.length,a=Object.keys(r.node.edges),l=a.length,c=0;c<o;c++)for(var u=s[c],d=0;d<l;d++){var h=a[d];if(h==u||"*"==u){var f=r.node.edges[h],p=r.qNode.edges[u],m=f.final&&p.final,y=void 0;h in r.output.edges?(y=r.output.edges[h]).final=y.final||m:((y=new e.TokenSet).final=m,r.output.edges[h]=y),n.push({qNode:p,output:y,node:f})}}return i},e.TokenSet.Builder=function(){this.previousWord="",this.root=new e.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},e.TokenSet.Builder.prototype.insert=function(t){var i,r=0;if(t<this.previousWord)throw Error("Out of order word insertion");for(var n=0;n<t.length&&n<this.previousWord.length&&t[n]==this.previousWord[n];n++)r++;this.minimize(r),i=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(var n=r;n<t.length;n++){var s=new e.TokenSet,o=t[n];i.edges[o]=s,this.uncheckedNodes.push({parent:i,char:o,child:s}),i=s}i.final=!0,this.previousWord=t},e.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},e.TokenSet.Builder.prototype.minimize=function(e){for(var t=this.uncheckedNodes.length-1;t>=e;t--){var i=this.uncheckedNodes[t],r=i.child.toString();r in this.minimizedNodes?i.parent.edges[i.char]=this.minimizedNodes[r]:(i.child._str=r,this.minimizedNodes[r]=i.child),this.uncheckedNodes.pop()}},e.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},e.Index.prototype.search=function(t){return this.query(function(i){new e.QueryParser(t,i).parse()})},e.Index.prototype.query=function(t){for(var i=new e.Query(this.fields),r=Object.create(null),n=Object.create(null),s=Object.create(null),o=Object.create(null),a=Object.create(null),l=0;l<this.fields.length;l++)n[this.fields[l]]=new e.Vector;t.call(i,i);for(var l=0;l<i.clauses.length;l++){var c=i.clauses[l],u=null,d=e.Set.empty;u=c.usePipeline?this.pipeline.runString(c.term,{fields:c.fields}):[c.term];for(var h=0;h<u.length;h++){var f=u[h];c.term=f;var p=e.TokenSet.fromClause(c),m=this.tokenSet.intersect(p).toArray();if(0===m.length&&c.presence===e.Query.presence.REQUIRED){for(var y=0;y<c.fields.length;y++){var v=c.fields[y];o[v]=e.Set.empty}break}for(var g=0;g<m.length;g++)for(var x=m[g],b=this.invertedIndex[x],E=b._index,y=0;y<c.fields.length;y++){var v=c.fields[y],w=b[v],k=Object.keys(w),S=x+"/"+v,L=new e.Set(k);if(c.presence==e.Query.presence.REQUIRED&&(d=d.union(L),void 0===o[v]&&(o[v]=e.Set.complete)),c.presence==e.Query.presence.PROHIBITED){void 0===a[v]&&(a[v]=e.Set.empty),a[v]=a[v].union(L);continue}if(n[v].upsert(E,c.boost,function(e,t){return e+t}),!s[S]){for(var Q=0;Q<k.length;Q++){var P,T=k[Q],O=new e.FieldRef(T,v),C=w[T];void 0===(P=r[O])?r[O]=new e.MatchData(x,v,C):P.add(x,v,C)}s[S]=!0}}}if(c.presence===e.Query.presence.REQUIRED)for(var y=0;y<c.fields.length;y++){var v=c.fields[y];o[v]=o[v].intersect(d)}}for(var I=e.Set.complete,_=e.Set.empty,l=0;l<this.fields.length;l++){var v=this.fields[l];o[v]&&(I=I.intersect(o[v])),a[v]&&(_=_.union(a[v]))}var F=Object.keys(r),R=[],j=Object.create(null);if(i.isNegated()){F=Object.keys(this.fieldVectors);for(var l=0;l<F.length;l++){var O=F[l],A=e.FieldRef.fromString(O);r[O]=new e.MatchData}}for(var l=0;l<F.length;l++){var A=e.FieldRef.fromString(F[l]),D=A.docRef;if(I.contains(D)&&!_.contains(D)){var N,B=this.fieldVectors[A],z=n[A.fieldName].similarity(B);if(void 0!==(N=j[D]))N.score+=z,N.matchData.combine(r[A]);else{var M={ref:D,score:z,matchData:r[A]};j[D]=M,R.push(M)}}}return R.sort(function(e,t){return t.score-e.score})},e.Index.prototype.toJSON=function(){var t=Object.keys(this.invertedIndex).sort().map(function(e){return[e,this.invertedIndex[e]]},this),i=Object.keys(this.fieldVectors).map(function(e){return[e,this.fieldVectors[e].toJSON()]},this);return{version:e.version,fields:this.fields,fieldVectors:i,invertedIndex:t,pipeline:this.pipeline.toJSON()}},e.Index.load=function(t){var i={},r={},n=t.fieldVectors,s=Object.create(null),o=t.invertedIndex,a=new e.TokenSet.Builder,l=e.Pipeline.load(t.pipeline);t.version!=e.version&&e.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+e.version+"' does not match serialized index '"+t.version+"'");for(var c=0;c<n.length;c++){var u=n[c],d=u[0],h=u[1];r[d]=new e.Vector(h)}for(var c=0;c<o.length;c++){var u=o[c],f=u[0],p=u[1];a.insert(f),s[f]=p}return a.finish(),i.fields=t.fields,i.fieldVectors=r,i.invertedIndex=s,i.tokenSet=a.root,i.pipeline=l,new e.Index(i)},e.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=e.tokenizer,this.pipeline=new e.Pipeline,this.searchPipeline=new e.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},e.Builder.prototype.ref=function(e){this._ref=e},e.Builder.prototype.field=function(e,t){if(/\//.test(e))throw RangeError("Field '"+e+"' contains illegal character '/'");this._fields[e]=t||{}},e.Builder.prototype.b=function(e){e<0?this._b=0:e>1?this._b=1:this._b=e},e.Builder.prototype.k1=function(e){this._k1=e},e.Builder.prototype.add=function(t,i){var r=t[this._ref],n=Object.keys(this._fields);this._documents[r]=i||{},this.documentCount+=1;for(var s=0;s<n.length;s++){var o=n[s],a=this._fields[o].extractor,l=a?a(t):t[o],c=this.tokenizer(l,{fields:[o]}),u=this.pipeline.run(c),d=new e.FieldRef(r,o),h=Object.create(null);this.fieldTermFrequencies[d]=h,this.fieldLengths[d]=0,this.fieldLengths[d]+=u.length;for(var f=0;f<u.length;f++){var p=u[f];if(void 0==h[p]&&(h[p]=0),h[p]+=1,void 0==this.invertedIndex[p]){var m=Object.create(null);m._index=this.termIndex,this.termIndex+=1;for(var y=0;y<n.length;y++)m[n[y]]=Object.create(null);this.invertedIndex[p]=m}void 0==this.invertedIndex[p][o][r]&&(this.invertedIndex[p][o][r]=Object.create(null));for(var v=0;v<this.metadataWhitelist.length;v++){var g=this.metadataWhitelist[v],x=p.metadata[g];void 0==this.invertedIndex[p][o][r][g]&&(this.invertedIndex[p][o][r][g]=[]),this.invertedIndex[p][o][r][g].push(x)}}}},e.Builder.prototype.calculateAverageFieldLengths=function(){for(var t=Object.keys(this.fieldLengths),i=t.length,r={},n={},s=0;s<i;s++){var o=e.FieldRef.fromString(t[s]),a=o.fieldName;n[a]||(n[a]=0),n[a]+=1,r[a]||(r[a]=0),r[a]+=this.fieldLengths[o]}for(var l=Object.keys(this._fields),s=0;s<l.length;s++){var c=l[s];r[c]=r[c]/n[c]}this.averageFieldLength=r},e.Builder.prototype.createFieldVectors=function(){for(var t={},i=Object.keys(this.fieldTermFrequencies),r=i.length,n=Object.create(null),s=0;s<r;s++){for(var o=e.FieldRef.fromString(i[s]),a=o.fieldName,l=this.fieldLengths[o],c=new e.Vector,u=this.fieldTermFrequencies[o],d=Object.keys(u),h=d.length,f=this._fields[a].boost||1,p=this._documents[o.docRef].boost||1,m=0;m<h;m++){var y,v,g,x=d[m],b=u[x],E=this.invertedIndex[x]._index;void 0===n[x]?(y=e.idf(this.invertedIndex[x],this.documentCount),n[x]=y):y=n[x],g=Math.round(1e3*(v=y*((this._k1+1)*b)/(this._k1*(1-this._b+this._b*(l/this.averageFieldLength[a]))+b)*f*p))/1e3,c.insert(E,g)}t[o]=c}this.fieldVectors=t},e.Builder.prototype.createTokenSet=function(){this.tokenSet=e.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},e.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new e.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},e.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},e.MatchData=function(e,t,i){for(var r=Object.create(null),n=Object.keys(i||{}),s=0;s<n.length;s++){var o=n[s];r[o]=i[o].slice()}this.metadata=Object.create(null),void 0!==e&&(this.metadata[e]=Object.create(null),this.metadata[e][t]=r)},e.MatchData.prototype.combine=function(e){for(var t=Object.keys(e.metadata),i=0;i<t.length;i++){var r=t[i],n=Object.keys(e.metadata[r]);void 0==this.metadata[r]&&(this.metadata[r]=Object.create(null));for(var s=0;s<n.length;s++){var o=n[s],a=Object.keys(e.metadata[r][o]);void 0==this.metadata[r][o]&&(this.metadata[r][o]=Object.create(null));for(var l=0;l<a.length;l++){var c=a[l];void 0==this.metadata[r][o][c]?this.metadata[r][o][c]=e.metadata[r][o][c]:this.metadata[r][o][c]=this.metadata[r][o][c].concat(e.metadata[r][o][c])}}}},e.MatchData.prototype.add=function(e,t,i){if(!(e in this.metadata)){this.metadata[e]=Object.create(null),this.metadata[e][t]=i;return}if(!(t in this.metadata[e])){this.metadata[e][t]=i;return}for(var r=Object.keys(i),n=0;n<r.length;n++){var s=r[n];s in this.metadata[e][t]?this.metadata[e][t][s]=this.metadata[e][t][s].concat(i[s]):this.metadata[e][t][s]=i[s]}},e.Query=function(e){this.clauses=[],this.allFields=e},e.Query.wildcard=new String("*"),e.Query.wildcard.NONE=0,e.Query.wildcard.LEADING=1,e.Query.wildcard.TRAILING=2,e.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},e.Query.prototype.clause=function(t){return"fields"in t||(t.fields=this.allFields),"boost"in t||(t.boost=1),"usePipeline"in t||(t.usePipeline=!0),"wildcard"in t||(t.wildcard=e.Query.wildcard.NONE),t.wildcard&e.Query.wildcard.LEADING&&t.term.charAt(0)!=e.Query.wildcard&&(t.term="*"+t.term),t.wildcard&e.Query.wildcard.TRAILING&&t.term.slice(-1)!=e.Query.wildcard&&(t.term=""+t.term+"*"),"presence"in t||(t.presence=e.Query.presence.OPTIONAL),this.clauses.push(t),this},e.Query.prototype.isNegated=function(){for(var t=0;t<this.clauses.length;t++)if(this.clauses[t].presence!=e.Query.presence.PROHIBITED)return!1;return!0},e.Query.prototype.term=function(t,i){if(Array.isArray(t))return t.forEach(function(t){this.term(t,e.utils.clone(i))},this),this;var r=i||{};return r.term=t.toString(),this.clause(r),this},e.QueryParseError=function(e,t,i){this.name="QueryParseError",this.message=e,this.start=t,this.end=i},e.QueryParseError.prototype=Error(),e.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},e.QueryLexer.prototype.run=function(){for(var t=e.QueryLexer.lexText;t;)t=t(this)},e.QueryLexer.prototype.sliceString=function(){for(var e=[],t=this.start,i=this.pos,r=0;r<this.escapeCharPositions.length;r++)i=this.escapeCharPositions[r],e.push(this.str.slice(t,i)),t=i+1;return e.push(this.str.slice(t,this.pos)),this.escapeCharPositions.length=0,e.join("")},e.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},e.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},e.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return e.QueryLexer.EOS;var t=this.str.charAt(this.pos);return this.pos+=1,t},e.QueryLexer.prototype.width=function(){return this.pos-this.start},e.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},e.QueryLexer.prototype.backup=function(){this.pos-=1},e.QueryLexer.prototype.acceptDigitRun=function(){var t,i;do i=(t=this.next()).charCodeAt(0);while(i>47&&i<58)t!=e.QueryLexer.EOS&&this.backup()},e.QueryLexer.prototype.more=function(){return this.pos<this.length},e.QueryLexer.EOS="EOS",e.QueryLexer.FIELD="FIELD",e.QueryLexer.TERM="TERM",e.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",e.QueryLexer.BOOST="BOOST",e.QueryLexer.PRESENCE="PRESENCE",e.QueryLexer.lexField=function(t){return t.backup(),t.emit(e.QueryLexer.FIELD),t.ignore(),e.QueryLexer.lexText},e.QueryLexer.lexTerm=function(t){if(t.width()>1&&(t.backup(),t.emit(e.QueryLexer.TERM)),t.ignore(),t.more())return e.QueryLexer.lexText},e.QueryLexer.lexEditDistance=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.EDIT_DISTANCE),e.QueryLexer.lexText},e.QueryLexer.lexBoost=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.BOOST),e.QueryLexer.lexText},e.QueryLexer.lexEOS=function(t){t.width()>0&&t.emit(e.QueryLexer.TERM)},e.QueryLexer.termSeparator=e.tokenizer.separator,e.QueryLexer.lexText=function(t){for(;;){var i=t.next();if(i==e.QueryLexer.EOS)return e.QueryLexer.lexEOS;if(92==i.charCodeAt(0)){t.escapeCharacter();continue}if(":"==i)return e.QueryLexer.lexField;if("~"==i)return t.backup(),t.width()>0&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexEditDistance;if("^"==i)return t.backup(),t.width()>0&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexBoost;if("+"==i&&1===t.width()||"-"==i&&1===t.width())return t.emit(e.QueryLexer.PRESENCE),e.QueryLexer.lexText;if(i.match(e.QueryLexer.termSeparator))return e.QueryLexer.lexTerm}},e.QueryParser=function(t,i){this.lexer=new e.QueryLexer(t),this.query=i,this.currentClause={},this.lexemeIdx=0},e.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var t=e.QueryParser.parseClause;t;)t=t(this);return this.query},e.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},e.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},e.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},e.QueryParser.parseClause=function(t){var i=t.peekLexeme();if(void 0!=i)switch(i.type){case e.QueryLexer.PRESENCE:return e.QueryParser.parsePresence;case e.QueryLexer.FIELD:return e.QueryParser.parseField;case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:var r="expected either a field or a term, found "+i.type;throw i.str.length>=1&&(r+=" with value '"+i.str+"'"),new e.QueryParseError(r,i.start,i.end)}},e.QueryParser.parsePresence=function(t){var i=t.consumeLexeme();if(void 0!=i){switch(i.str){case"-":t.currentClause.presence=e.Query.presence.PROHIBITED;break;case"+":t.currentClause.presence=e.Query.presence.REQUIRED;break;default:var r="unrecognised presence operator'"+i.str+"'";throw new e.QueryParseError(r,i.start,i.end)}var n=t.peekLexeme();if(void 0==n){var r="expecting term or field, found nothing";throw new e.QueryParseError(r,i.start,i.end)}switch(n.type){case e.QueryLexer.FIELD:return e.QueryParser.parseField;case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:var r="expecting term or field, found '"+n.type+"'";throw new e.QueryParseError(r,n.start,n.end)}}},e.QueryParser.parseField=function(t){var i=t.consumeLexeme();if(void 0!=i){if(-1==t.query.allFields.indexOf(i.str)){var r=t.query.allFields.map(function(e){return"'"+e+"'"}).join(", "),n="unrecognised field '"+i.str+"', possible fields: "+r;throw new e.QueryParseError(n,i.start,i.end)}t.currentClause.fields=[i.str];var s=t.peekLexeme();if(void 0==s){var n="expecting term, found nothing";throw new e.QueryParseError(n,i.start,i.end)}if(s.type===e.QueryLexer.TERM)return e.QueryParser.parseTerm;var n="expecting term, found '"+s.type+"'";throw new e.QueryParseError(n,s.start,s.end)}},e.QueryParser.parseTerm=function(t){var i=t.consumeLexeme();if(void 0!=i){t.currentClause.term=i.str.toLowerCase(),-1!=i.str.indexOf("*")&&(t.currentClause.usePipeline=!1);var r=t.peekLexeme();if(void 0==r){t.nextClause();return}switch(r.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:var n="Unexpected lexeme type '"+r.type+"'";throw new e.QueryParseError(n,r.start,r.end)}}},e.QueryParser.parseEditDistance=function(t){var i=t.consumeLexeme();if(void 0!=i){var r=parseInt(i.str,10);if(isNaN(r)){var n="edit distance must be numeric";throw new e.QueryParseError(n,i.start,i.end)}t.currentClause.editDistance=r;var s=t.peekLexeme();if(void 0==s){t.nextClause();return}switch(s.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:var n="Unexpected lexeme type '"+s.type+"'";throw new e.QueryParseError(n,s.start,s.end)}}},e.QueryParser.parseBoost=function(t){var i=t.consumeLexeme();if(void 0!=i){var r=parseInt(i.str,10);if(isNaN(r)){var n="boost must be numeric";throw new e.QueryParseError(n,i.start,i.end)}t.currentClause.boost=r;var s=t.peekLexeme();if(void 0==s){t.nextClause();return}switch(s.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:var n="Unexpected lexeme type '"+s.type+"'";throw new e.QueryParseError(n,s.start,s.end)}}},function(e,t){"function"==typeof define&&define.amd?define(t):$9bd5008c96f03152$exports=t()}(0,function(){return e})}();let $6b70e849ffa4c4ec$var$htmlCollection=document.getElementsByClassName("excerpt"),$6b70e849ffa4c4ec$var$htmlPosts=[...$6b70e849ffa4c4ec$var$htmlCollection],$6b70e849ffa4c4ec$var$searchbar=document.getElementById("search"),$6b70e849ffa4c4ec$var$filter=document.getElementById("filter"),$6b70e849ffa4c4ec$var$postsContainer=document.getElementById("posts"),$6b70e849ffa4c4ec$var$noResults=document.getElementById("no-results"),$6b70e849ffa4c4ec$var$clearButton=document.getElementById("clear-filters"),$6b70e849ffa4c4ec$var$loadButton=document.getElementById("load-more"),$6b70e849ffa4c4ec$var$counter=10,$6b70e849ffa4c4ec$var$posts=$6b70e849ffa4c4ec$var$htmlPosts.map(e=>({id:e.id,content:e.innerText.replace(/\n/g," "),feedback:e.dataset.feedback,type:e.dataset.type.slice(1,-1),degrees:e.dataset.degrees,benefits:e.dataset.benefits,location:e.dataset.location}));var $6b70e849ffa4c4ec$var$bigram=function(e){var t=function(e,t,i){e.update(function(e,t){return e+" "+t.nextTokenStr})};$parcel$interopDefault($9bd5008c96f03152$exports).Pipeline.registerFunction(t,"bigram"),e.pipeline.before($parcel$interopDefault($9bd5008c96f03152$exports).stemmer,t),e.searchPipeline.before($parcel$interopDefault($9bd5008c96f03152$exports).stemmer,t)},$6b70e849ffa4c4ec$var$metadataUpdate=function(e){var t=function(e,t,i){return i[t+1]?e.metadata.nextTokenStr=i[t+1].str:e.metadata.nextTokenStr="",e.update(function(e,t){return e+" "+t.nextTokenStr})};$parcel$interopDefault($9bd5008c96f03152$exports).Pipeline.registerFunction(t,"metadataUpdate"),e.pipeline.before($parcel$interopDefault($9bd5008c96f03152$exports).stemmer,t),e.metadataWhitelist.push("nextTokenStr")};let $6b70e849ffa4c4ec$var$idx=$parcel$interopDefault($9bd5008c96f03152$exports)(function(){this.ref("id"),this.field("content",{boost:10}),this.field("feedback",{boost:5}),this.field("type",{boost:5}),this.field("degrees",{boost:5}),this.field("benefits",{boost:5}),this.field("location",{boost:5}),this.pipeline.reset(),this.searchPipeline.reset(),this.k1(.2),this.b(1),$6b70e849ffa4c4ec$var$posts.forEach(function(e){this.add(e)},this)}),$6b70e849ffa4c4ec$var$checkEnter=e=>(e=e||event,/textarea/i.test((e.target||e.srcElement).tagName)||13!==(e.keyCode||e.which||e.charCode||0));$6b70e849ffa4c4ec$var$searchbar.onkeypress=$6b70e849ffa4c4ec$var$checkEnter,$6b70e849ffa4c4ec$var$searchbar.addEventListener("input",e=>{e.preventDefault(),$6b70e849ffa4c4ec$var$loadButton.classList.add("hidden"),$6b70e849ffa4c4ec$var$idx.query(function(t){t.term(`+${e.target.value}`,{usePipeline:!0,boost:100}),t.term(`${e.target.value}*`,{usePipeline:!1,boost:1}),t.term(e.target.value,{usePipeline:!1,editDistance:2,boost:1})});let t=$6b70e849ffa4c4ec$var$idx.search(`${e.target.value}^100 ${e.target.value}*^10 ${e.target.value}~2`);e.target.value&&t.length?($6b70e849ffa4c4ec$var$noResults.classList.add("hidden"),$6b70e849ffa4c4ec$var$postsContainer.classList.remove("hidden"),$6b70e849ffa4c4ec$var$htmlPosts.filter(e=>{e.classList.add("hidden"),t.some(t=>{t.ref===e.id&&e.classList.remove("hidden")})})):e.target.value?($6b70e849ffa4c4ec$var$noResults.classList.remove("hidden"),$6b70e849ffa4c4ec$var$postsContainer.classList.add("hidden")):($6b70e849ffa4c4ec$var$noResults.classList.add("hidden"),$6b70e849ffa4c4ec$var$postsContainer.classList.remove("hidden"),$6b70e849ffa4c4ec$var$htmlPosts.map(e=>{e.classList.remove("hidden")}))}),$6b70e849ffa4c4ec$var$filter.addEventListener("submit",e=>{e.preventDefault(),$6b70e849ffa4c4ec$var$loadButton.classList.add("hidden");let t=new FormData($6b70e849ffa4c4ec$var$filter),i=[];for(var r of t.entries())i=[...i,...r];i=i.filter(e=>"on"!==e&&"location"!=e&&e.length).map(e=>{let t=`+${e}`;return t.replace(/\-/g," +")}).join(" "),$6b70e849ffa4c4ec$var$idx.query(function(e){e.term(i,{usePipeline:!0,boost:100})});let n=$6b70e849ffa4c4ec$var$idx.search(i);i.length&&n.length?($6b70e849ffa4c4ec$var$noResults.classList.add("hidden"),$6b70e849ffa4c4ec$var$postsContainer.classList.remove("hidden"),$6b70e849ffa4c4ec$var$htmlPosts.filter(e=>{e.classList.add("hidden"),n.some(t=>{t.ref===e.id&&e.classList.remove("hidden")})})):i.length?($6b70e849ffa4c4ec$var$noResults.classList.remove("hidden"),$6b70e849ffa4c4ec$var$postsContainer.classList.add("hidden")):($6b70e849ffa4c4ec$var$noResults.classList.add("hidden"),$6b70e849ffa4c4ec$var$postsContainer.classList.remove("hidden"),$6b70e849ffa4c4ec$var$htmlPosts.map(e=>{e.classList.remove("hidden")}))}),$6b70e849ffa4c4ec$var$clearButton.addEventListener("click",e=>{$6b70e849ffa4c4ec$var$filter.reset(),$6b70e849ffa4c4ec$var$loadButton.classList.remove("hidden"),$6b70e849ffa4c4ec$var$counter=10,$6b70e849ffa4c4ec$var$htmlPosts.map((e,t)=>{t<$6b70e849ffa4c4ec$var$counter&&e.classList.remove("hidden")}),$6b70e849ffa4c4ec$var$postsContainer.classList.remove("hidden")}),$6b70e849ffa4c4ec$var$htmlPosts.length&&$6b70e849ffa4c4ec$var$htmlPosts.map((e,t)=>{t>=10?(e.classList.add("hidden"),$6b70e849ffa4c4ec$var$loadButton.classList.remove("hidden")):(e.classList.remove("hidden"),$6b70e849ffa4c4ec$var$loadButton.classList.add("hidden"))}),$6b70e849ffa4c4ec$var$loadButton.addEventListener("click",e=>{$6b70e849ffa4c4ec$var$counter<$6b70e849ffa4c4ec$var$htmlPosts.length?($6b70e849ffa4c4ec$var$counter+=10,$6b70e849ffa4c4ec$var$htmlPosts.map((e,t)=>{$6b70e849ffa4c4ec$var$counter<=t<=$6b70e849ffa4c4ec$var$htmlPosts.length?e.classList.remove("hidden"):e.classList.add("hidden")})):$6b70e849ffa4c4ec$var$loadButton.classList.add("hidden")})})();
//# sourceMappingURL=custom.js.map
